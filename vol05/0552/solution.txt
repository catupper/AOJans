問題番号:AOJ0552
問題名:Exposition

解説:
距離dで２つのグループに分けることができるかということを判断できれば二分探索で答えを出すことができる。
|x1 - x2| + |y1 - y2| というのはmax(|(x1 + y1) - (x2 + y2)|, |(x1 - y1) - (x2 - y2)|)になる。つまりグループ内でどの二点のマンハッタン距離もdを超えないという事は、(x + y)どうしの差の最大値も、(x - y)どうしの差の最大値もdを超えないという事である。よって各点について、x+y と x-yの値を持っておけば良い。
グループ分け可能かどうかの判断は、(x+y)だけでグループ分け可能かを考えた集合と、(x-y)だけでグループ分け可能かを考えた場合で矛盾がなければよいという方法を取る。(x+y)だけで考えた場合(x+y)が最大のものと最小のものは絶対に違うグループなので、各点についてその２つとの差を考えるだけで良い。もし両方との距離がdを超えなければどっちつかず、片方だけがdを超えたらグループは一意に決まり、両方共超えればグループ分け不可能と解かる。グループを決めた後、(x+y)で考えた時と、(x-y)で考えた時でどちらかでどっちつかずの物の数をboth、両方で一意に決まっておりグループ番号が違うものをdifferとすると。グループ分け可能かどうかは、(differ == 0 || differ + both == n)になる。これで判断可能である。


アルゴリズム:
ソート
マンハッタン距離
二分探索

オーダー:
O(NlogD)
N = 施設の個数
D = 施設のマンハッタン距離の取りうる最大値

