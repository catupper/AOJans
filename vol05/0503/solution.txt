問題番号:AOJ0503
問題名:Cup

解説:
操作自体はハノイの塔の派生である。
普通のハノイの塔とはちがい、AからCにコップが移動できない。
この制約のせいで、とある状態からコップを動かすとき、動かし方が高々２通りしか無い事に気付くことが重要。
それゆえに、すべてのコップがAにある状態からすべてをCに移す途中で、起こりうるコップの配置は全て起こる。
よって、与えられた状態から動かすことを繰り返し続けると、AかCどちらかに全部集まる。

AからCに全て移す移動数は再帰で求めることができ、それを漸化式で表し、その漸化式を解くと移動数は3^n-1になる。（詳しい説明は割愛する）
nはたかだか15なので全通りうごいても、時間内に間に合う。

動かすときは、一つ前の状態に戻らないということだけを意識すればいいので、一つ前の移動で動いたコップの元の場所と移動後の場所さえ保存しておけば良い。
A,Cどちらに集めるかによって動かす手数がちがうので、片方への移動回数がわかったら、AからCに全てを移すの似必要な移動の回数を予め求めておいて、それをつかってもう片方への移動回数も求める。その二つの最小値を取る。

アルゴリズム:
再帰
シミュレート
やるだけ

